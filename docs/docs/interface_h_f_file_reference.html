<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>HexFiend: HFFileReference Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>HFFileReference Class Reference</h1><!-- doxytag: class="HFFileReference" -->A reference to an open file.  
<a href="#_details">More...</a>
<p>
<div class="dynheader">
Inheritance diagram for HFFileReference:</div>
<div class="dynsection">

<p><center><img src="interface_h_f_file_reference.png" usemap="#HFFileReference_map" border="0" alt=""></center>
<map name="HFFileReference_map">
<area href="interface_h_f_privileged_file_reference.html" alt="HFPrivilegedFileReference" shape="rect" coords="0,56,180,80">
<area href="interface_h_f_unprivileged_file_reference.html" alt="HFUnprivilegedFileReference" shape="rect" coords="190,56,370,80">
</map>
</div>

<p>
<a href="class_h_f_file_reference-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_h_f_file_reference.html#e213a9975ba77f9decbd6ff80e831cbd">initWritableWithPath:error:</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_h_f_file_reference.html#7c7802572f167dc6b51e7a9d5c9f3fb1">initWithPath:error:</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_h_f_file_reference.html#3ed63c568c05f301fcd4b56056eaa779">close</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_h_f_file_reference.html#1bfd36c18a9f77edfd4e9d2acae5108e">readBytes:length:from:</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">(int)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_h_f_file_reference.html#86d128427f38899ebb04c5e096e19d82">writeBytes:length:to:</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">(unsigned long long)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_h_f_file_reference.html#d3e560b662a0fa7437d6d4c3e3f58c86">length</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_h_f_file_reference.html#3cee6dea0c86c6961c97981e81ac957d">setLength:error:</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_h_f_file_reference.html#2e13d8bd4cdf513b16b3667c2d21ba8a">isEqual:</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="interface_h_f_file_reference.html" title="A reference to an open file.">HFFileReference</a> encapsulates a reference to an open file. Multiple instances of <a class="el" href="interface_h_f_file_byte_slice.html" title="A subclass of HFByteSlice for working data stored in files.">HFFileByteSlice</a> may share an <a class="el" href="interface_h_f_file_reference.html" title="A reference to an open file.">HFFileReference</a>, so that the file only needs to be opened once.<p>
<a class="el" href="interface_h_f_file_reference.html" title="A reference to an open file.">HFFileReference</a> is an abstract class. You must instantiate either <a class="el" href="interface_h_f_unprivileged_file_reference.html" title="A reference to an open file that can be read (and possibly written) using normal...">HFUnprivilegedFileReference</a> or <a class="el" href="interface_h_f_privileged_file_reference.html" title="A reference to an open file that can be read (and possibly written) using our privileged...">HFPrivilegedFileReference</a>.<p>
All HFFileReferences use non-caching IO (F_NOCACHE is set). <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e213a9975ba77f9decbd6ff80e831cbd"></a><!-- doxytag: member="HFFileReference::initWritableWithPath:error:" ref="e213a9975ba77f9decbd6ff80e831cbd" args="(NSString *path,[error] NSError **error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) initWritableWithPath:           </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>path</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a file for reading and writing at the given path. The permissions mode of any newly created file is 0744. Returns nil if the file could not be opened, in which case the error parameter (if not nil) will be set. 
</div>
</div><p>
<a class="anchor" name="7c7802572f167dc6b51e7a9d5c9f3fb1"></a><!-- doxytag: member="HFFileReference::initWithPath:error:" ref="7c7802572f167dc6b51e7a9d5c9f3fb1" args="(NSString *path,[error] NSError **error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) initWithPath:           </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>path</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a file for reading only at the given path. Returns nil if the file could not be opened, in which case the error parameter (if not nil) will be set. 
</div>
</div><p>
<a class="anchor" name="3ed63c568c05f301fcd4b56056eaa779"></a><!-- doxytag: member="HFFileReference::close" ref="3ed63c568c05f301fcd4b56056eaa779" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) close           </td>
          <td></td>
          <td class="paramname">          </td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes the file. 
</div>
</div><p>
<a class="anchor" name="1bfd36c18a9f77edfd4e9d2acae5108e"></a><!-- doxytag: member="HFFileReference::readBytes:length:from:" ref="1bfd36c18a9f77edfd4e9d2acae5108e" args="(unsigned char *buff,[length] NSUInteger length,[from] unsigned long long offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) readBytes:           </td>
          <td></td>
          <td class="paramtype">(unsigned char *)&nbsp;</td>
          <td class="paramname"> <em>buff</em></td>
        </tr>
        <tr>
          <td class="paramkey">length:</td>
          <td></td>
          <td class="paramtype">(NSUInteger)&nbsp;</td>
          <td class="paramname"> <em>length</em></td>
        </tr>
        <tr>
          <td class="paramkey">from:</td>
          <td></td>
          <td class="paramtype">(unsigned long long)&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads from the file into a local memory buffer. The sum of the length and the offset must not exceed the length of the file. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buff</em>&nbsp;</td><td>The buffer to read into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>The number of bytes to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>The offset in the file to read. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="86d128427f38899ebb04c5e096e19d82"></a><!-- doxytag: member="HFFileReference::writeBytes:length:to:" ref="86d128427f38899ebb04c5e096e19d82" args="(const unsigned char *buff,[length] NSUInteger length,[to] unsigned long long offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) writeBytes:           </td>
          <td></td>
          <td class="paramtype">(const unsigned char *)&nbsp;</td>
          <td class="paramname"> <em>buff</em></td>
        </tr>
        <tr>
          <td class="paramkey">length:</td>
          <td></td>
          <td class="paramtype">(NSUInteger)&nbsp;</td>
          <td class="paramname"> <em>length</em></td>
        </tr>
        <tr>
          <td class="paramkey">to:</td>
          <td></td>
          <td class="paramtype">(unsigned long long)&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes data to the file, which must have been opened writable. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buff</em>&nbsp;</td><td>The data to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>The number of bytes to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>The offset in the file to write to. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, or an errno-style error code on failure </dd></dl>

</div>
</div><p>
<a class="anchor" name="d3e560b662a0fa7437d6d4c3e3f58c86"></a><!-- doxytag: member="HFFileReference::length" ref="d3e560b662a0fa7437d6d4c3e3f58c86" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (unsigned long long) length           </td>
          <td></td>
          <td class="paramname">          </td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the length of the file, as a 64 bit unsigned long long. 
</div>
</div><p>
<a class="anchor" name="3cee6dea0c86c6961c97981e81ac957d"></a><!-- doxytag: member="HFFileReference::setLength:error:" ref="3cee6dea0c86c6961c97981e81ac957d" args="(unsigned long long length,[error] NSError **error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) setLength:           </td>
          <td></td>
          <td class="paramtype">(unsigned long long)&nbsp;</td>
          <td class="paramname"> <em>length</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Changes the length of the file via <code>ftruncate</code>. Returns YES on success, NO on failure; on failure it optionally returns an NSError by reference. 
</div>
</div><p>
<a class="anchor" name="2e13d8bd4cdf513b16b3667c2d21ba8a"></a><!-- doxytag: member="HFFileReference::isEqual:" ref="2e13d8bd4cdf513b16b3667c2d21ba8a" args="(id val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isEqual:           </td>
          <td></td>
          <td class="paramtype">(id)&nbsp;</td>
          <td class="paramname"> <em>val</em>          </td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
isEqual: returns whether two file references both reference the same file, as in have the same inode and device. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_h_f_file_reference_8h_source.html">HFFileReference.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Dec 8 10:06:35 2011 for HexFiend by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
